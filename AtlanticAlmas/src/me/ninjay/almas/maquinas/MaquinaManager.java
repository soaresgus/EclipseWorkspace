package me.ninjay.almas.maquinas;

import java.util.ArrayList;
import java.util.Arrays;

import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.bukkit.inventory.Inventory;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;

import me.ninjay.almas.main.Main;
import me.ninjay.ninjaapi.utils.Mine;
import net.eduard.api.lib.storage.Storable;

public class MaquinaManager implements Storable{
	public Maquina getmaquina(String nome) {
		for(Maquina maquina : maquinas) {
			if(maquina.getName().equalsIgnoreCase(nome)) {
				return maquina;
			}
			
		}
		return null;
	}
	private ArrayList<Maquina> maquinas = new ArrayList<>();
	
	public ArrayList<Maquina> getMaquinas() {
		return maquinas;
	}
	public void setMaquinas(ArrayList<Maquina> maquinas) {
		this.maquinas = maquinas;
	}
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
	public void abrir(Player p, Maquina maquina) {
		   maquina.setDono(p.getName());
		Inventory menu = Mine.newInventory("Máquina", 9*6);
		
		ItemStack almas = Mine.newItem(Material.QUARTZ, "§eSuas Almas: "+Main.almas.getDouble(p.getName()));
        
      
		ItemStack drop = maquina.getDrop();
       
		ItemStack vidro = Mine.newItem(Material.STAINED_GLASS_PANE, "§eMáquina "+maquina.getName(), 1, (short) 15);
        
		ItemStack valor = Mine.newItem(Material.DOUBLE_PLANT, "§eValor que será ganhado");
        ItemMeta valorm = valor.getItemMeta();
        valorm.setLore(Arrays.asList("§a$"+maquina.getValor()));
        valor.setItemMeta(valorm);
        
        ItemStack dono = Mine.newItem(Material.DIAMOND_CHESTPLATE, "§eDono da máquina");
        ItemMeta donom = dono.getItemMeta();
        donom.setLore(Arrays.asList("§e"+maquina.getDono()));
        dono.setItemMeta(donom);
        
        ItemStack coletar = Mine.newItem(Material.BUCKET, "§eColetar Drops");
        
        ItemStack adicionar = Mine.newItem(Material.EMERALD, "§eAdicionar Combustível");
        
       
        ItemStack fechar = Mine.newItem(Material.ARROW, "§eFechar Menu");
        
        for(int d = 0; d < 54; d++) {
        	menu.setItem(d, vidro);
        }
        menu.setItem(Mine.getPosition(1, 5), almas);
        menu.setItem(Mine.getPosition(3, 5), valor);
        menu.setItem(Mine.getPosition(3, 6), dono);
        menu.setItem(Mine.getPosition(5, 4), adicionar);
        menu.setItem(Mine.getPosition(3, 4), drop);
        menu.setItem(Mine.getPosition(5, 6), coletar);
        menu.setItem(Mine.getPosition(5, 5), fechar);
     
    p.openInventory(menu);    
	}
	
	
	

}                   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         